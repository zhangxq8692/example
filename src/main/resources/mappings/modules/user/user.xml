<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
        "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.zhang.modules.user.dao.UserDao">

    <sql id="column">
        id,
        name,
        age,
        sex,
        create_date,
        update_date,
        update_flag
    </sql>
    <select id="findById" resultType="user" useCache="true">
        SELECT
          <include refid="column"/>
        FROM
	      sys_user
        <where>
            id=#{id}
        </where>
    </select>
    <select id="findAll" resultType="user">
        SELECT
            <include refid="column"/>
        FROM
            sys_user
    </select>
    <update id="update">
        UPDATE sys_user SET
        name=#{name},
        age=#{age},
        sex=#{sex},
        create_date=#{createDate},
        update_date=#{updateDate},
        update_flag=#{updateFlag}
        <where>
            id=#{id}
        </where>
    </update>
    <delete id="delete">
        delete from user where id=#{id}
    </delete>
    <insert id="insert">
        insert into sys_user
        (
          <include refid="column"/>
         )
        values
        (
            #{id},
            #{name},
            #{age},
            #{sex},
            #{createDate},
            #{updateDate},
            #{updateFlag}
        )
    </insert>
</mapper>